<div class="body">

  <div class="main" role="main">
    <div class="row">
      <div class="col my-3 mx-auto justify-content-center">
        <h1 class="text-center" style="color: rebeccapurple">BFS Spider - Tomer Yona</h1>

      </div>
    </div>
    <div class="row">
      <div class="offset-3 col-6 justify-content-center">
        <div class="card">

          <div class="card-body">
            <form>
              <div class="form-group">
                <label for="exampleInputEmail1">Enter Url</label>
                <input [(ngModel)]="urlString" name="test" type="url" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
                       placeholder="http://ynet.co.il" value="http://ynet.co.il">
              </div>
              <div class="form-group">
                <label for="maxLinks">Max number of links</label>
                <input [(ngModel)]="maxLinks" name="test1" type="number" min="1" class="form-control" id="maxLinks" placeholder="10" value="10">
              </div>
              <div class="form-group">
                <label for="maxDepth">Max depth</label>
                <input [(ngModel)]="maxDepth" name="test2" type="number" min="0" class="form-control" id="maxDepth" placeholder="10" value="1">
              </div>

              <button type="button" (click)="getAllLinks()" class="btn btn-primary my-3">Crawl!</button>
            </form>
            <!--            <a href="#" class="btn btn-primary">Crawl!</a>-->
          </div>
        </div>
      </div>
    </div>

<!--    <pre>{{pages | json}}</pre>-->

<div class="row" *ngIf="loading">
  <div class="offset-3 col-6 mx-auto my-5 text-center">
    <div class="spinner-border justify-content-center" role="status">
      <span class="sr-only"></span>
    </div>
  </div>

</div>


    <div *ngIf="errBlock">
      <h4 class="text-center text-warning">{{errorText}}</h4>
    </div>




    <div class="row my-5">
      <div class="offset-3 col-6">
        <div id="accordion" *ngFor="let page of pages; let i = index" >
          <div class="card">
            <div class="card-header" id="headingTwo">
              <h5 class="mb-0">
                <button class="btn btn-link collapsed" data-toggle="collapse" [attr.data-target]="'#collapse' + i" data-target="#collapseTwo"
                        aria-expanded="false" aria-controls="collapseTwo">
                  Page Title: {{page.title}} <br> Depth: {{page.depth}}
                </button>
              </h5>
            </div>
            <div id="collapseTwo" class="collapse" [attr.id]="'collapse' + i" aria-labelledby="headingTwo" data-parent="#accordion">
              <div class="card-body">
                <ul *ngFor="let link of page.links">
                  <li>{{link}}</li>
                </ul>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


